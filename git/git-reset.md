# Git reset

### git reset의 원리 

`git reset`은 보통 커밋을 **이전 커밋으로 아예 되돌릴 때 사용**하는 명령어이다. 

`git reset` 명령어와 옵션\(--soft, --mixed, --hard\), 그리고 커밋 ID를 입력하면 해당 커밋 ID로 커밋이 옮겨간다.

이전 커밋으로 돌아가면 **HEAD는 가만히 있고**, **HEAD가 가리키고 있는 브랜치가 이전 커밋을 가리킨다**. 이를 통해 HEAD가 가리키는 커밋도 간접적으로 변경된다.

### git reset으로 이전 커밋으로 돌아가면 원래 커밋은 사라질까? 

`git reset`으로 **이전 커밋으로 돌아가도 원래 커밋은 사라지지 않는다.** 그리고 `git reset`은 이전 커밋으로만 쓸 수 있는것이 아니다. 이전 커밋으로 돌아간 다음에 다시 원래 커밋의 커밋 ID를 이용하면 원래 커밋으로 돌아갈 수 있다.

### git checkout과의 차이점 

| git reset | git checkout |
| :--- | :--- |
| HEAD가 가리키던 브랜치가 다른 커밋을 가리키도록 한다. | HEAD 자체가 다른 커밋이나 브랜치를 가리키도록 한다. |

`git checkout [커밋 ID]`를 입력하면 **HEAD가 해당 커밋을 직접적으로 가리키게 된다.** 이러한 상태의 HEAD를 **Detached HEAD**라고 한다. 

#### 굳이 HEAD를 특정 커밋으로 옮기는 이유는?

이전 커밋에서 새로운 브랜치로 분기를 하고싶을때 옮기기 위함이다. 

`git checkout`을 통해서 이전 커밋으로 HEAD를 옮긴 상황에서 새로운 브랜치를 만들면 **HEAD는 그대로 해당 커밋으로 직접 가리키고, 그 커밋을 가리키는 새로운 브랜치가 생긴다.**

그 상태에서 `git checkout`으로 새로 만든 브랜치를 가리키면 Detached HEAD 상태를 벗어난다.

