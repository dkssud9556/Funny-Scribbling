# 6장. 함수형 프로그래밍

함수형 프로그래밍이라는 개념은 프로그래밍 그 자체보다 앞서 등장했다. 이 패러다임에서 핵심이 되는 기반은 **람다 계산법**으로 알론조 처치가 1930년대에 발명했다.

### 불변성과 아키텍처 

**함수형 언어에서 변수는 변경되지 않는다.** 변수가 변경되지 않는다는 것은 경합 조건, 교착상태, 동시 업데이트 문제가 발생하지 않는다는 것을 뜻한다. 다수의 스레드와 프로세스를 사용하는 애플리케이션에서 마주치는 모든 문제는 가변 변수가 없다면 절대로 생기지 않는다.

우리는 스레드와 프로세스가 여러 개인 상황에서도 설계한 시스템이 강건하도록 만들어야 한다.

#### 불변성은 실현 가능한가?

저장 공간이 무한하고 프로세서의 속도가 무한히 빠르다고 전제하면 가능하다. 하지만 자원은 만한대가 아니기 때문에 일종의 타협을 해야 한다.

### 가변성의 분리 

애플리케이션, 또는 애플리케이션 내부의 서비스를 가변 컴포넌트와 불변 컴포넌트로 분리해야 한다.불변 컴포넌트는 가변 변수를 사용하지 않으며, 하나 이상의 가변 컴포넌트와 통신한다.

가능한 한 많은 처리를 불변 컴포넌트로 옮기는 것이 좋으며, 가변 컴포넌트에서는 가능한 한 많은 코드를 빼내야 한다.

### 이벤트 소싱 

이벤트 소싱은 상태가 아닌 트랜잭션을 저장하자는 전략이다. 상태가 필요해지면 단순히 상태의 시작점부터 모든 트랜잭션을 처리한다. 이 전략을 통해 데이터 저장소에서 삭제되거나 변경되는 것이 하나도 없도록 할 수 있다. -&gt; CRUD에서 CR만 수행한다.

저장 공간과 처리 능력이 충분하면 애플리케이션이 완전한 불변성을 갖도록 만들 수 있고, 완전한 함수형으로 만들 수 있다.

